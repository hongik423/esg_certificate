# 🔧 M-CENTER 랜딩페이지 환경변수 설정 가이드

## 필수 환경변수 (.env.local 파일에 설정)

```bash
# 🔧 EmailJS 설정 (이메일 발송용)
NEXT_PUBLIC_EMAILJS_SERVICE_ID=service_qd9eycz
NEXT_PUBLIC_EMAILJS_PUBLIC_KEY=268NPLwN54rPvEias
NEXT_PUBLIC_EMAILJS_TEMPLATE_DIAGNOSIS=template_diagnosis_conf
NEXT_PUBLIC_EMAILJS_TEMPLATE_CONSULTATION=template_consultation_conf
NEXT_PUBLIC_EMAILJS_TEMPLATE_ADMIN=template_admin_notification

# 🔧 Google Sheets 및 Apps Script 설정 (구글시트 연동용)
NEXT_PUBLIC_GOOGLE_SHEETS_ID=1bAbxAWBWy5dvxBSFf1Mtdt0UiP9hNaFKyjTTlLq_Pug
NEXT_PUBLIC_GOOGLE_SCRIPT_URL=https://script.google.com/macros/s/AKfycbzE4eVxGetQ3Z_xsikwoonK45T4wtryGLorQ4UmGaGRAz-BuZQIzm2VgXcxmJoQ04WX/exec
NEXT_PUBLIC_GOOGLE_SCRIPT_ID=AKfycbzE4eVxGetQ3Z_xsikwoonK45T4wtryGLorQ4UmGaGRAz-BuZQIzm2VgXcxmJoQ04WX

# 🔧 사이트 설정
NEXT_PUBLIC_BASE_URL=https://m-center-landingpage.vercel.app

# 🔧 Gemini AI API (선택사항 - AI 진단 고도화용)
GEMINI_API_KEY=your-actual-gemini-api-key-here
```

## 📋 구글시트 설정 확인사항

### 1. 구글시트 컬럼 구조
다음 컬럼들이 구글시트에 있어야 합니다:

**공통 컬럼:**
- 제출일시, 폼타입, 신청구분, 회사명, 이메일, 개인정보동의

**진단신청 전용 컬럼:**
- 업종, 사업담당자, 직원수, 사업성장단계, 주요고민사항, 예상혜택, 진단점수, 추천서비스, 보고서타입

**상담신청 전용 컬럼:**
- 상담유형, 성명, 연락처, 직책, 상담분야, 문의내용, 희망상담시간, 진단연계여부

### 2. Apps Script 권한 설정
- 구글시트 읽기/쓰기 권한
- 웹앱 배포 권한 (외부 접근 허용)

## 📧 EmailJS 템플릿 설정

### 1. 진단 확인 템플릿 (template_diagnosis_conf)
```
안녕하세요 {{to_name}}님,

{{company_name}}의 AI 무료진단 신청이 접수되었습니다.

{{diagnosis_summary}}

담당자: {{consultant_name}}
연락처: {{consultant_phone}}
이메일: {{consultant_email}}

감사합니다.
M-CENTER 기업의별
```

### 2. 상담 확인 템플릿 (template_consultation_conf)
```
안녕하세요 {{to_name}}님,

{{company_name}}의 {{consultation_type}} 신청이 접수되었습니다.

{{reply_message}}

담당자: {{consultant_name}}
연락처: {{consultant_phone}}

감사합니다.
M-CENTER 기업의별
```

### 3. 관리자 알림 템플릿 (template_admin_notification)
```
[{{type}}] 신규 신청 알림

고객명: {{customer_name}}
회사명: {{company_name}}
서비스: {{service_type}}
신청일시: {{submission_date}}

상세 정보:
{{details}}

즉시 확인 및 처리 바랍니다.
```

## 🚀 테스트 방법

### 1. 개발 서버 실행
```bash
npm run dev
```

### 2. 진단 신청 테스트
- http://localhost:3003/services/diagnosis 접속
- 진단 폼 작성 후 제출
- 구글시트에 데이터 저장 확인
- 이메일 발송 확인

### 3. 상담 신청 테스트  
- http://localhost:3003/consultation 접속
- 상담 폼 작성 후 제출
- 구글시트에 데이터 저장 확인
- 이메일 발송 확인

## 🔍 문제 해결

### 1. 구글시트 연동 실패 시
- NEXT_PUBLIC_GOOGLE_SCRIPT_URL 확인
- Apps Script 배포 상태 확인
- CORS 설정 확인

### 2. 이메일 발송 실패 시
- EmailJS 서비스 ID 및 Public Key 확인
- 템플릿 ID 확인
- 브라우저 콘솔에서 오류 메시지 확인

### 3. 데이터 저장 실패 시
- 네트워크 탭에서 API 호출 상태 확인
- 서버 콘솔에서 오류 로그 확인
- 환경변수 설정 재확인

## 📞 지원 문의
- 기술 지원: 개발팀
- 비즈니스 문의: 010-9251-9743 (이후경 경영지도사) 